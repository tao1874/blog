<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 原型理解 | 挖煤工</title>
    <meta name="description" content="

var stu = {
    name:&quot;张三&quot;,
    sayname:function(){
        console.log(this.name);
    }

可是，我们要创建多个stu对象总不能把上面代码重复写很多次吧？

我们可以使用最简单的工厂函数，返回一个对象：

function stuFactory (name){
    retu ...">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/blog/favicon.ico">
  <link rel="manifest" href="/blog/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/blog/icons/apple-icon-152x152.png">
  <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b1c2b92d.css" as="style"><link rel="preload" href="/blog/assets/js/app.8ac0d1fd.js" as="script"><link rel="preload" href="/blog/assets/js/7.a2e7a795.js" as="script"><link rel="preload" href="/blog/assets/js/4.f51f81fb.js" as="script"><link rel="preload" href="/blog/assets/js/16.fff13c8c.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.a42ae64f.js"><link rel="prefetch" href="/blog/assets/js/10.8766c408.js"><link rel="prefetch" href="/blog/assets/js/11.1c5cc417.js"><link rel="prefetch" href="/blog/assets/js/12.8923019e.js"><link rel="prefetch" href="/blog/assets/js/13.1ff7b55b.js"><link rel="prefetch" href="/blog/assets/js/14.72752daf.js"><link rel="prefetch" href="/blog/assets/js/15.4766d80b.js"><link rel="prefetch" href="/blog/assets/js/17.07249565.js"><link rel="prefetch" href="/blog/assets/js/18.a499b538.js"><link rel="prefetch" href="/blog/assets/js/19.46fa5827.js"><link rel="prefetch" href="/blog/assets/js/20.2abccb26.js"><link rel="prefetch" href="/blog/assets/js/21.9f4a8cd0.js"><link rel="prefetch" href="/blog/assets/js/22.f2f20762.js"><link rel="prefetch" href="/blog/assets/js/23.f0254c5d.js"><link rel="prefetch" href="/blog/assets/js/24.aaa032d5.js"><link rel="prefetch" href="/blog/assets/js/25.6e7fe7b8.js"><link rel="prefetch" href="/blog/assets/js/26.67029724.js"><link rel="prefetch" href="/blog/assets/js/27.12a837fa.js"><link rel="prefetch" href="/blog/assets/js/28.67d2b4a6.js"><link rel="prefetch" href="/blog/assets/js/29.91d8da72.js"><link rel="prefetch" href="/blog/assets/js/5.1b84e559.js"><link rel="prefetch" href="/blog/assets/js/6.c30dd1f2.js"><link rel="prefetch" href="/blog/assets/js/8.fc2b6b17.js"><link rel="prefetch" href="/blog/assets/js/9.3128b65b.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.e0fcfbae.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b1c2b92d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">挖煤工 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">挖煤工 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        JavaScript 原型理解
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2018-05-03T00:16:00.000Z">
      Thu May 03 2018
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-d832e844><a href="/blog/tag/JavaScript" data-v-d832e844> JavaScript </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h5 id="创建一个对象可以通过对象字面量的方式："><a href="#创建一个对象可以通过对象字面量的方式：" class="header-anchor">#</a> 创建一个对象可以通过对象字面量的方式：</h5> <div class="language- extra-class"><pre class="language-text"><code>var stu = {
    name:&quot;张三&quot;,
    sayname:function(){
        console.log(this.name);
    }
</code></pre></div><p>可是，我们要创建多个stu对象总不能把上面代码重复写很多次吧？</p> <p>我们可以使用最简单的工厂函数，返回一个对象：</p> <div class="language- extra-class"><pre class="language-text"><code>function stuFactory (name){
    return {
        name:name,
        sayname:function(){
            console.log(this.name);
        }
    }
}
//这样生成实例对象
var stu1 = stuFactory(&quot;赵四&quot;);
var stu2 = stuFactory(&quot;王五&quot;);
</code></pre></div><p>但是这样有一个问题，即谁创建了这两个对象？</p> <h5 id="更优雅的方式：构造函数"><a href="#更优雅的方式：构造函数" class="header-anchor">#</a> 更优雅的方式：构造函数</h5> <p>所谓构造函数，需通过 new Constructor() 的方式创建对象。</p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code> function stuMaker(){
            this.name = name,
            this.sayname = function(){
                console.log(this.name);
            }
        }
 var stu3 = new stuMaker(&quot;尼古拉斯&quot;);
 var stu4 = new stuMaker(&quot;尼古拉斯-赵四&quot;);
</code></pre></div><p>这个 new 关键字发生了什么？</p> <div class="language- extra-class"><pre class="language-text"><code>function stuMaker(){
            //创建一个临时对象
            var instacne = {},
            //实例绑定到this
            this = instacne,
            this.name = name,
            this.sayname = function(){
                console.log(this.name);
            }
            //返回this
            return this;
        }
</code></pre></div><p>总结就是：</p> <ol><li>创建一个临时对象保存实例</li> <li>将 this 指向该临时对象</li> <li>返回这个对象</li></ol> <p>但是，这样还不是很优雅，假如这个学生对象有共有属性，每次创建一个实例对象，就会把这个共有属性创建一次，不合理，JavaScript 为了解决这个问题，规定了每个函数都有一个 Prototype 属性，这个属性可以干嘛呢？</p> <p><strong>这个属性可以指向一个 constructor 的对象，这个对象有个属性 constructor 指向该构造函数</strong></p> <div class="language- extra-class"><pre class="language-text"><code>  function 构造函数(){
           prototype:constructor //简单写就是这样一个对象：constructor{constructor::构造函数}
        }
</code></pre></div><p>我们通过该构造函数创建的实例对象有个__proto__属性指向一个对象，这个对象就是上面：</p> <p><strong>构造函数prototype 所指的对象</strong></p> <p>简言之：</p> <p><strong>构造函数.prototype === 实例对象.<strong>proto</strong>；</strong></p> <p>这么做有什么意义呢？</p> <p>构造函数的 prototype 把共有属性预定好，然后再创建对象的时候，顺手让实例对象的proto属性指向这个对象，好处就是实例对象可以通过proto知道自己共有属性有哪些。</p> <p>总感觉还是没能彻底理解js 的原型 ，解释起来非常费劲，暂且就这样吧，有了更加通俗易懂的方式，再来填坑。</p></div> <footer><!----> <hr> <!----></footer></article> <!----></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.8ac0d1fd.js" defer></script><script src="/blog/assets/js/7.a2e7a795.js" defer></script><script src="/blog/assets/js/4.f51f81fb.js" defer></script><script src="/blog/assets/js/16.fff13c8c.js" defer></script>
  </body>
</html>
